HOW TO REVIEW PARTS OF ANALYSIS

1: How to review the realignment of the plots so that the peak is at the centre before the average.
Go to the get_frequency_and_S21_detunings function and call the function plot_detunings_raw. For a given detuning, this will iterate through all the data that will be averaged together to make that detuning and plot each one, with a vertical red line drawn showing where it thinks the peak is.

2: How to review the computation of where the peak is.
At the end of the function get_index_maximum, call plot_index_max_heuristic. This will plot the shape the heuristic (should be like the function |x| but rounded at the bottom), two line segements on either side of the minimum (these should be on straight parts of the curve), and a red square at the bottom. This red square is where the minimum is. It will usually be directly below the minimum, but can be offset to the left. This is expected behaviour, and finds the minimum more accurately.

3: How to review the plots after the average has been taken.
At the end of get_gamma, call the function create_figure_1.

4: Manual fitting instructions
Deciding if a plot needs to be fitted manually: the initial fitting parameters are assumed to be somewhat reasonable, and a fitting heuristic is computed by how different the computed fitting parameters are from the initial. If this is above a certain threshold, it will be flagged and sent to be handled manually.
The figure will be plotted with the automatic fit. Close this figure and then a menu will appear asking what changes you want to make to the fitting parameters, or if you want to accept or reject the fit. If the data is wrong, or cannot be fitted sufficiently well, it should be rejected. You need to close the figures manually to move on to the next figure

CURRENT TASKS

1: Add in functionality to review how good the fit is. If the fit is not good, this should be able to be handled manually, or at least excluded from the data for now.

NOTE ABOUT PLOTTING
If you are running in VS code, you need to be plotting in inline mode or it won't display. You won't be able to dynamically interact with the graph (such as reselecting a region).
If you are running in a browser, you can plot in notebook mode. Be careful as it will plot all of the results and can be very slow to use
Recommend to convert the notebook to a script - this will produce the plots one at a time and the next one appears when you close a plot.